  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>LOL Spell Check Game</title>
      <style>
          body {
              margin: 0;
              overflow: hidden;
          }
  
          #gameContainer {
              position: relative;
              width: 800px;
              height: 600px;
              margin: auto;
          }
  
          #inputField {
              position: absolute;
              bottom: 20px;
              left: 10px;
              width: 300px;
              height: 30px;
              font-size: 18px;
              text-align: center;
              z-index: 10;
              display: none;
          }
  
          #logContainer {
              position: absolute;
              bottom: 60px;
              left: 10px;
              width: 300px;
              max-height: 200px;
              overflow-y: auto;
              background-color: rgba(0, 0, 0, 0.5);
              color: white;
              padding: 10px;
              font-size: 14px;
              z-index: 10;
              display: none;
          }
  
          #startButton {
              position: absolute;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
              padding: 15px 30px;
              font-size: 20px;
              cursor: pointer;
              z-index: 20;
          }
  
          .controlButton {
              position: absolute;
              top: 10px;
              right: 10px;
              margin-left: 5px;
              padding: 5px 10px;
              font-size: 14px;
              cursor: pointer;
              z-index: 20;
          }
  
          #generateSituationButton {
              top: 50px;
          }
  
          #resetButton {
              top: 90px;
          }
  
          #pauseButton, #resumeButton {
              top: 130px;
          }
      </style>
  </head>
  <body>
      <div id="gameContainer">
          <button id="startButton">게임 시작하기</button>
          <button id="generateSituationButton" class="controlButton" style="display:none;">상황 발생</button>
          <button id="resetButton" class="controlButton" style="display:none;">초기화</button>
          <button id="pauseButton" class="controlButton" style="display:none;">일시 정지</button>
          <button id="resumeButton" class="controlButton" style="display:none;">다시 시작</button>
          <input type="text" id="inputField" name="timestampInput">
          <div id="logContainer"></div>
  <div id="gameTimeDisplay" style="position:absolute; top: 10px; left: 10px; color: white; font-size: 18px; z-index: 20;"></div>
  <button id="speedToggleButton" class="controlButton" style="display:none; top: 170px; right: 10px; padding: 5px 10px; font-size: 14px; cursor: pointer;">배속 변경</button>
  <script>
          let gameStarted = false;
          let gamePaused = false;
          let gameTime = 0;
  let gameSpeedMultiplier = 1;
  let gameSpeedOptions = [1, 1.25, 1.5, 2];
  let currentSpeedIndex = 0;
  let gameTimerInterval = null;
  let situationInterval = null;
  
  function updateGameTimeDisplay() {
      const minutes = Math.floor(gameTime / 60);
      const seconds = gameTime % 60;
      document.getElementById('gameTimeDisplay').textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
  }
          let lastSituation;
  
          const inputField = document.getElementById('inputField');
          const logContainer = document.getElementById('logContainer');
          const startButton = document.getElementById('startButton');
          const generateSituationButton = document.getElementById('generateSituationButton');
          const resetButton = document.getElementById('resetButton');
          const pauseButton = document.getElementById('pauseButton');
          const resumeButton = document.getElementById('resumeButton');
  const speedToggleButton = document.getElementById('speedToggleButton');
  
          function addEventListeners() {
              startButton.addEventListener('click', startGame);
              generateSituationButton.addEventListener('click', generateNextSituation);
              resetButton.addEventListener('click', resetGame);
              pauseButton.addEventListener('click', pauseGame);
              resumeButton.addEventListener('click', resumeGame);
              inputField.addEventListener('keypress', function(event) {
                  if (event.key === 'Enter') {
                      handleUserInput(inputField.value);
                      inputField.value = '';
                  }
              });
          }
  
          // Adding event listeners on window load to ensure all elements are fully loaded
          window.onload = function() {
      addEventListeners();
      speedToggleButton.addEventListener('click', toggleSpeed);
  };
  
          function startGame() {
    speedToggleButton.style.display = 'block';
    startButton.style.display = 'none';
    generateSituationButton.style.display = 'block';
    resetButton.style.display = 'block';
    pauseButton.style.display = 'block';
    inputField.style.display = 'block';
    logContainer.style.display = 'block';
    gameStarted = true;
    gamePaused = false;
    updateSpeedButtonLabel();
    inputField.value = '';
    inputField.focus();

    // Clear existing intervals to prevent multiple timers
    

    // Start game timer and situation generator
    

    
}
      inputField.value = '';
      inputField.focus();
  
      // Clear existing intervals to prevent multiple timers
      
  
      // Start game timer and situation generator
      
  
      
  }
  
      // Clear existing intervals to prevent multiple timers
      clearInterval(gameTimerInterval);
      clearInterval(situationInterval);
  
      // Start game timer and situation generator
      gameTimerInterval = setInterval(() => {
          if (gameStarted && !gamePaused) {
              gameTime += gameSpeedMultiplier;
              updateGameTimeDisplay();
          }
      }, 1000 / gameSpeedMultiplier);
  
      situationInterval = setInterval(() => {
          if (gameStarted && !gamePaused) {
              generateNextSituation();
          }
      }, 15000);
  }
  
      clearInterval(gameTimerInterval);
      clearInterval(situationInterval);
  
      
  
      
  }
  
      
      
  
      
      
      inputField.value = '';
      inputField.focus();
  
      
  
      
  }
  
              
  gameTimerInterval = setInterval(() => {
          if (gameStarted && !gamePaused) {
              gameTime += gameSpeedMultiplier;
              updateGameTimeDisplay();
          }
      }, 1000 / gameSpeedMultiplier);
  
      situationInterval = setInterval(() => {
          if (gameStarted && !gamePaused) {
              generateNextSituation();
          }
      }, 15000);
          }
  
          function toggleSpeed() {
      currentSpeedIndex = (currentSpeedIndex + 1) % gameSpeedOptions.length;
      gameSpeedMultiplier = gameSpeedOptions[currentSpeedIndex];
      updateSpeedButtonLabel();
      console.log('Game speed changed to:', gameSpeedMultiplier);
  }
  
  function updateSpeedButtonLabel() {
      speedToggleButton.textContent = `Speed ${gameSpeedMultiplier.toFixed(2)} X`;
  
  }`;
      logEntry.style.color = 'green';
      logContainer.appendChild(logEntry);
      logContainer.scrollTop = logContainer.scrollHeight;
      
  }
  
  function resetGame() {
              clearInterval(gameTimerInterval);
              clearInterval(situationInterval);
              gameTime = 0;
              gameStarted = false;
              gamePaused = false;
  
              inputField.style.display = 'none';
              logContainer.style.display = 'none';
              resetButton.style.display = 'none';
              pauseButton.style.display = 'none';
              resumeButton.style.display = 'none';
              generateSituationButton.style.display = 'none';
              startButton.style.display = 'block';
              logContainer.innerHTML = '';
          }
  
          function pauseGame() {
              pauseButton.style.display = 'none';
              resumeButton.style.display = 'block';
              gamePaused = true;
              clearInterval(gameTimerInterval);
          }
  
          function resumeGame() {
      resumeButton.style.display = 'none';
      pauseButton.style.display = 'block';
      gamePaused = false;
      
  gameTimerInterval = setInterval(() => {
          if (gameStarted && !gamePaused) {
              gameTime += gameSpeedMultiplier;
              updateGameTimeDisplay();
          }
      }, 1000 / gameSpeedMultiplier);
  clearInterval(gameTimerInterval);
      gameTimerInterval = setInterval(() => {
          if (gameStarted && !gamePaused) {
              gameTime += gameSpeedMultiplier;
              updateGameTimeDisplay();
          }
      }, 1000 / gameSpeedMultiplier);
  clearInterval(gameTimerInterval);
      gameTimerInterval = setInterval(() => {
          if (gameStarted && !gamePaused) {
              gameTime += gameSpeedMultiplier;
              updateGameTimeDisplay();
          }
      }, 1000 / gameSpeedMultiplier);
          gameTimerInterval = setInterval(() => {
              if (gameStarted && !gamePaused) {
                  gameTime += gameSpeedMultiplier;
                  updateGameTimeDisplay();
              }
          }, 1000 / gameSpeedMultiplier);
      }
      if (!gameTimerInterval) {
          gameTimerInterval = setInterval(() => {
              if (gameStarted && !gamePaused) {
                  gameTime += gameSpeedMultiplier;
                  updateGameTimeDisplay();
              }
          }, 1000 / gameSpeedMultiplier);
      }
      if (!gameTimerInterval) {
          gameTimerInterval = setInterval(() => {
              if (gameStarted && !gamePaused) {
                  gameTime += gameSpeedMultiplier;
                  updateGameTimeDisplay();
              }
          }, 1000 / gameSpeedMultiplier);
      }
  }
  }
          }
  
          function generateNextSituation() {
              const champions = [
                  { name: '다리우스', hasCosmicInsight: true, hasIonianBoots: false },
                  { name: '리신', hasCosmicInsight: false, hasIonianBoots: true },
                  { name: '아리', hasCosmicInsight: true, hasIonianBoots: true },
                  { name: '이즈리얼', hasCosmicInsight: false, hasIonianBoots: false },
                  { name: '룰루', hasCosmicInsight: false, hasIonianBoots: true }
              ];
              const spells = ['Flash', 'Teleport', 'Cleanse', 'Ignite'];
              const selectedSpell = spells[Math.floor(Math.random() * spells.length)];
              const selectedChampion = champions[Math.floor(Math.random() * champions.length)];
  
              let spellCooldown;
              if (selectedSpell === 'Flash') {
                  if (selectedChampion.hasCosmicInsight && selectedChampion.hasIonianBoots) {
                      spellCooldown = 235;
                  } else if (selectedChampion.hasCosmicInsight) {
                      spellCooldown = 255;
                  } else if (selectedChampion.hasIonianBoots) {
                      spellCooldown = 275;
                  } else {
                      spellCooldown = 300;
                  }
              } else if (selectedSpell === 'Teleport') {
                  if (gameTime >= 14 * 60) {
                      if (selectedChampion.hasCosmicInsight && selectedChampion.hasIonianBoots) {
                          spellCooldown = 260;
                      } else if (selectedChampion.hasCosmicInsight) {
                          spellCooldown = 280;
                      } else if (selectedChampion.hasIonianBoots) {
                          spellCooldown = 300;
                      } else {
                          spellCooldown = 330;
                      }
                  } else {
                      if (selectedChampion.hasCosmicInsight && selectedChampion.hasIonianBoots) {
                          spellCooldown = 280;
                      } else if (selectedChampion.hasCosmicInsight) {
                          spellCooldown = 305;
                      } else if (selectedChampion.hasIonianBoots) {
                          spellCooldown = 330;
                      } else {
                          spellCooldown = 360;
                      }
                  }
              } else if (selectedSpell === 'Cleanse') {
                  if (selectedChampion.hasCosmicInsight && selectedChampion.hasIonianBoots) {
                      spellCooldown = 190;
                  } else if (selectedChampion.hasCosmicInsight) {
                      spellCooldown = 205;
                  } else if (selectedChampion.hasIonianBoots) {
                      spellCooldown = 220;
                  } else {
                      spellCooldown = 240;
                  }
              } else if (selectedSpell === 'Ignite') {
                  if (selectedChampion.hasCosmicInsight && selectedChampion.hasIonianBoots) {
                      spellCooldown = 140;
                  } else if (selectedChampion.hasCosmicInsight) {
                      spellCooldown = 155;
                  } else if (selectedChampion.hasIonianBoots) {
                      spellCooldown = 180;
                  } else {
                      spellCooldown = 180;
                  }
              }
  
              const currentTimestamp = getCurrentGameTime();
              const cooldownEndTime = calculateCooldownEndTime(currentTimestamp, spellCooldown);
  
              lastSituation = {
                  champion: selectedChampion.name,
                  spell: selectedSpell,
                  cooldownEndTime: cooldownEndTime
              };
  
              const situationText = `${currentTimestamp} ${selectedChampion.name} ${selectedSpell}`;
              addLog(situationText, 'situation');
          }
  
          function calculateCooldownEndTime(currentTime, cooldown) {
              const [minutes, seconds] = currentTime.split(':').map(Number);
              let totalSeconds = minutes * 60 + seconds + cooldown;
              totalSeconds = Math.round(totalSeconds / 5) * 5; // 5초 단위로 반올림
  
              const endMinutes = Math.floor(totalSeconds / 60);
              const endSeconds = totalSeconds % 60;
              return `${endMinutes}:${endSeconds < 10 ? '0' : ''}${endSeconds}`;
          }
  
          function addLog(text, type) {
              const logEntry = document.createElement('div');
              logEntry.textContent = text;
              if (type === 'situation') {
                  logEntry.style.color = 'blue';
              }
              logContainer.appendChild(logEntry);
              logContainer.scrollTop = logContainer.scrollHeight;
          }
  
          function handleUserInput(userInput) {
              if (!lastSituation) return;
              addLog(userInput, 'input');
          }
  
          function getCurrentGameTime() {
              const minutes = Math.floor(gameTime / 60);
              const seconds = gameTime % 60;
              return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
          }
      </script>
  </body>
  </html>
